:host { display: contents; }
/* Enlarge modal box for stronger impact */
.paper-modal { max-width: min(720px, 96vw); padding: 2.25rem; }

.win-glow { position: absolute; width: 160%; height: 160%; border-radius: 50%; filter: blur(48px); background: radial-gradient(circle, rgba(212,175,55,0.35), rgba(255,255,255,0.0)); animation: glow 3s ease-in-out forwards; }
@keyframes glow { 0% { opacity: 0; transform: scale(0.7);} 40% { opacity: 1; } 100% { opacity: 0; transform: scale(1.15);} }
.animate-trophy { animation: bounceIn 700ms ease-out, pulseGlow 2.2s ease-in-out 700ms 2; }
@keyframes bounceIn { 0% { transform: scale(0.2) translateY(40px); opacity: 0; } 60% { transform: scale(1.1) translateY(0); opacity: 1; } 100% { transform: scale(1); } }
@keyframes pulseGlow { 0%,100% { text-shadow: 0 0 0 rgba(212,175,55,0.0);} 50% { text-shadow: 0 0 24px rgba(212,175,55,0.75);} }

/* Fullscreen confetti overlay */
.confetti-layer { position: fixed; inset: 0; pointer-events: none; overflow: visible; z-index: 60; }

/* Confetti pieces: start in center, explode out, then fall and flutter */
.confetti { position: absolute; left: 50%; top: 50%; width: 10px; height: 14px; background: transparent; opacity: 1; border-radius: 0; transform-origin: center; animation-name: explode, drift; animation-timing-function: ease-out, linear; animation-iteration-count: 1, 1; animation-fill-mode: forwards, forwards; }
/* inner element holds the visual rectangle to allow independent rotation without overriding translate */
.confetti-inner { width: 100%; height: 100%; background: currentColor; border-radius: 2px; animation: spin var(--spin, 1800ms) ease-in-out infinite, sway var(--swayDur, 2000ms) ease-in-out infinite; }

/* Phase 1: radial explosion from center */
@keyframes explode { 0% { transform: translate(-50%, -50%) scale(0.6); opacity: 0; } 15% { opacity: 1; } 100% { transform: translate(var(--vx, 0px), var(--vy, 0px)) scale(1); } }
/* Phase 2: fall down with slight horizontal drift */
@keyframes drift { 0% { transform: translate(var(--vx), var(--vy)) rotate(0deg); } 100% { transform: translate(calc(var(--vx) + var(--hx)), calc(var(--vy) + 110vh)); opacity: 1; } }
/* Constant spin to flutter */
@keyframes spin { 0% { transform: rotate(0deg);} 100% { transform: rotate(360deg);} }
/* gentle horizontal sway to enhance flutter illusion */
@keyframes sway { 0% { transform: translateX(-3px); } 50% { transform: translateX(3px); } 100% { transform: translateX(-3px); } }

@media (prefers-reduced-motion: reduce) { .animate-trophy, .confetti, .win-glow { animation: none !important; } }
