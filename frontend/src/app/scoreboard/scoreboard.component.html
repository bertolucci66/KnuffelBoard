<div *ngIf="game() as g" class="h-screen flex flex-col w-full">
  <!-- Floating Finish Game Button (always visible at top when all fields filled) -->
  <div class="fixed top-4 left-1/2 -translate-x-1/2 z-[60]" *ngIf="g.status === 'active' && g.allFilled">
    <button class="btn btn-success btn-lg shadow-2xl finish-game-btn" (click)="finish()">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
      </svg>
      <span class="hidden sm:inline font-bold">Spiel beenden & werten</span>
      <span class="sm:hidden font-bold">Beenden</span>
    </button>
  </div>

  <!-- Header -->
  <div class="flex items-center justify-between p-3 border-b border-base-300 bg-base-200/60 flex-shrink-0">
    <div class="h3 m-0">Spielzettel
      <div class="text-xs opacity-70 font-normal">Erstellt von Norbert Gutbrod</div>
    </div>

    <div class="flex items-center gap-1 sm:gap-2">
      <span class="badge badge-ghost text-xs sm:text-sm" *ngIf="g.status==='active'">Laufzeit: {{ elapsed() }}</span>
      <button class="btn btn-circle btn-ghost btn-sm sm:btn-md" (click)="toggleHelp()" title="Hilfe anzeigen">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 sm:h-6 sm:w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
      </button>
      <button class="btn btn-error btn-sm sm:btn-md min-h-10" (click)="requestAbort()" title="Neues Spiel starten â€“ aktuelles verwerfen">
        <span class="hidden sm:inline">Neues Spiel</span>
        <span class="sm:hidden">Neu</span>
      </button>
      <span class="opacity-70 hidden lg:inline text-sm">{{ unlocked ? 'Entsperrt â€“ Ã„nderungen erlaubt' : 'Gesperrt â€“ zum Bearbeiten entsperren' }}</span>
      <button class="btn btn-sm sm:btn-md min-h-10" [class.btn-warning]="unlocked" [class.btn-ghost]="!unlocked" (click)="toggleUnlock()">
        <span class="mr-1 hidden sm:inline">{{ unlocked ? 'Sperren' : 'Entsperren' }}</span>
        <span>{{ unlocked ? 'ğŸ”’' : 'ğŸ”“' }}</span>
      </button>
    </div>
  </div>
  
  <!-- Main Content Area -->
  <div class="flex flex-1 overflow-hidden">
    <!-- Sidebar -->
    <div class="bg-base-200 border-r border-base-300 transition-all duration-300 ease-in-out flex-shrink-0"
         [class.w-72]="sidebarOpen()" 
         [class.w-0]="!sidebarOpen()"
         [class.overflow-hidden]="!sidebarOpen()"
         [class.sm:w-80]="sidebarOpen()">
      <div class="p-3 sm:p-4 h-full overflow-y-auto" *ngIf="sidebarOpen()">
        <div class="flex items-center justify-between mb-3 sm:mb-4">
          <h3 class="text-base sm:text-lg font-bold">Summen</h3>
          <button class="btn btn-ghost btn-sm min-h-10 min-w-10" (click)="toggleSidebar()" title="Sidebar ausblenden">
            <span class="text-lg">â†</span>
          </button>
        </div>
        
        <!-- Player Summary Cards -->
        <div class="space-y-2 sm:space-y-3">
          <div *ngFor="let p of g.players" class="card bg-base-100 shadow-sm transition-all duration-300"
               [class.ring-2]="isNextPlayer(p.id) && g.status === 'active'"
               [class.ring-emerald-500]="isNextPlayer(p.id) && g.status === 'active'"
               [class.shadow-lg]="isNextPlayer(p.id) && g.status === 'active'">
            <div class="card-body p-2 sm:p-3">
              <div class="flex items-center justify-between mb-1 sm:mb-2">
                <h4 class="font-bold text-sm sm:text-base">{{ p.name }}</h4>
                <span *ngIf="isNextPlayer(p.id) && g.status === 'active'"
                      class="badge badge-success badge-sm">Aktiv</span>
              </div>

              <!-- Progress Bar -->
              <div class="mb-2" *ngIf="g.status === 'active'">
                <div class="flex justify-between text-xs mb-1">
                  <span class="opacity-70">Fortschritt</span>
                  <span class="font-semibold">{{ getPlayerProgress(p.id) }}%</span>
                </div>
                <progress class="progress progress-primary w-full h-2"
                          [value]="getPlayerProgress(p.id)"
                          max="100"></progress>
              </div>

              <div class="space-y-1 text-xs sm:text-sm">
                <div class="flex justify-between">
                  <span class="opacity-70">Oberer Teil:</span>
                  <span class="font-semibold">{{ g.computed[p.id]?.upper ?? 0 }}</span>
                </div>
                <div class="flex justify-between">
                  <span class="opacity-70">Bonus:</span>
                  <span class="font-semibold">{{ g.computed[p.id]?.bonus ?? 0 }}</span>
                </div>
                <div class="flex justify-between">
                  <span class="opacity-70">Unterer Teil:</span>
                  <span class="font-semibold">{{ g.computed[p.id]?.lower ?? 0 }}</span>
                </div>
                <div class="divider my-1"></div>
                <div class="flex justify-between text-sm sm:text-base font-bold">
                  <span>Gesamt:</span>
                  <span class="text-primary">{{ g.computed[p.id]?.total ?? 0 }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Main Table Area -->
    <div class="flex-1 flex flex-col overflow-hidden">
      <!-- Sidebar Toggle Button (when sidebar is closed) -->
      <div class="p-2 border-b border-base-300 bg-base-100 flex-shrink-0" *ngIf="!sidebarOpen()">
        <button class="btn btn-ghost btn-sm min-h-10" (click)="toggleSidebar()" title="Sidebar anzeigen">
          <span class="text-lg">â†’</span>
          <span class="ml-1 hidden sm:inline">Summen anzeigen</span>
        </button>
      </div>
      <!-- Scrollable table content -->
      <div class="overflow-auto flex-1">
        <table class="table table-pin-rows w-full">
          <thead class="sticky top-0 z-20 bg-base-200 shadow-sm">
            <tr>
              <th class="text-lg bg-base-200">Kategorie</th>
              <th class="text-lg bg-base-200 transition-all duration-300" *ngFor="let p of g.players"
                  [class.bg-emerald-50]="isNextPlayer(p.id) && g.status === 'active'"
                  [class.ring-2]="isNextPlayer(p.id) && g.status === 'active'"
                  [class.ring-emerald-500]="isNextPlayer(p.id) && g.status === 'active'"
                  [class.ring-inset]="isNextPlayer(p.id) && g.status === 'active'">
                <button class="btn btn-ghost btn-md text-left w-full justify-start hover:bg-emerald-50 hover:text-emerald-700 group px-3 py-2"
                        (click)="showPlayerInfo(p.id)"
                        title="Klicken fÃ¼r verbleibende Kategorien">
                  <span class="font-bold text-xl tracking-wide"
                        [class.text-emerald-700]="isNextPlayer(p.id) && g.status === 'active'">{{p.name}}</span>
                  <span class="text-2xl ml-2 opacity-60 group-hover:opacity-100 transition-opacity">â„¹ï¸</span>
                  <span *ngIf="isNextPlayer(p.id) && g.status === 'active'"
                        class="badge badge-success badge-sm ml-2 font-semibold">Aktiv</span>
                </button>
              </th>
            </tr>
          </thead>
          <tbody class="relative">
            <ng-container>
              <!-- Dark separator above upper section -->
              <tr><td [attr.colspan]="1 + g.players.length" class="p-0"><div class="border-t-4 border-base-300/90"></div></td></tr>
              <tr class="bg-base-200/70">
                <td class="font-bold" [attr.colspan]="1 + g.players.length">Oberer Teil</td>
              </tr>
              <tr *ngFor="let c of upper; let i = index" class="border-b border-base-300" [ngClass]="{ 'bg-base-100': i % 2 === 0, 'bg-base-200': i % 2 === 1 }">
                <td class="font-semibold">{{ label(c) }}</td>
                <td *ngFor="let p of g.players" class="align-middle transition-all duration-200"
                    [class.bg-emerald-50]="isNextPlayer(p.id) && g.status === 'active' && i % 2 === 0"
                    [class.bg-emerald-100]="isNextPlayer(p.id) && g.status === 'active' && i % 2 === 1">
                  <div class="flex items-center gap-1">
                    <input class="input input-sm input-bordered w-16 flex-1 max-w-20 blue-outlined" [class.scored]="isLocked(p.id,c)" type="number" min="0" inputmode="numeric" pattern="[0-9]*"
                           [disabled]="isLocked(p.id,c)" [(ngModel)]="cellValues[p.id][c]" (blur)="commit(p.id,c)" (keyup.enter)="commit(p.id,c)" />
                    <button class="btn btn-sm btn-ghost min-h-10 min-w-10" [disabled]="isLocked(p.id,c)" (click)="strike(p.id,c)" title="Streichen (0)">âœ–ï¸</button>
                    <span *ngIf="upperTendency(p.id, c) as t" class="badge badge-xs px-1 py-0.5 ml-1 hidden sm:inline-flex" [class.badge-success]="t.kind==='over'" [class.badge-warning]="t.kind==='under'" [class.badge-ghost]="t.kind==='on'">{{ t.label }}</span>
                  </div>
                </td>
              </tr>
              <tr class="bg-base-300 border-y-2 border-base-400 sticky top-12 z-10 hidden md:table-row">
                <td class="font-semibold bg-base-300">Oberer Teil Summe</td>
                <td class="text-xl font-extrabold bg-base-300 transition-all duration-200" *ngFor="let p of g.players"
                    [class.!bg-emerald-200]="isNextPlayer(p.id) && g.status === 'active'">
                  {{ g.computed[p.id]?.upper ?? 0 }}
                  <span *ngIf="upperSumTendency(p.id) as t" class="badge badge-sm px-2 py-0.5 ml-2" [class.badge-success]="t.kind==='over'" [class.badge-warning]="t.kind==='under'" [class.badge-ghost]="t.kind==='on'">{{ t.label }}</span>
                </td>
              </tr>
              <tr class="bg-base-300 border-b-2 border-base-300 sticky top-24 z-10 hidden md:table-row">
                <td class="font-semibold bg-base-300">Bonus</td>
                <td class="text-xl font-bold bg-base-300 transition-all duration-200" *ngFor="let p of g.players"
                    [class.!bg-emerald-200]="isNextPlayer(p.id) && g.status === 'active'">{{ g.computed[p.id]?.bonus ?? 0 }}</td>
              </tr>
              <!-- Dark separator above lower section -->
              <tr><td [attr.colspan]="1 + g.players.length" class="p-0"><div class="border-t-4 border-base-300/90"></div></td></tr>
              <tr class="bg-base-200/70">
                <td class="font-bold" [attr.colspan]="1 + g.players.length">Unterer Teil</td>
              </tr>
              <tr *ngFor="let c of lower; let i = index" class="border-b border-base-300" [ngClass]="{ 'bg-base-100': i % 2 === 0, 'bg-base-200': i % 2 === 1 }">
                <td class="font-semibold">{{ label(c) }}</td>
                <td *ngFor="let p of g.players" class="align-middle transition-all duration-200"
                    [class.bg-emerald-50]="isNextPlayer(p.id) && g.status === 'active' && i % 2 === 0"
                    [class.bg-emerald-100]="isNextPlayer(p.id) && g.status === 'active' && i % 2 === 1">
                  <div class="flex items-center gap-1">
                    <input class="input input-sm input-bordered w-16 flex-1 max-w-20 blue-outlined" [class.scored]="isLocked(p.id,c)" type="number" min="0" inputmode="numeric" pattern="[0-9]*"
                           [disabled]="isLocked(p.id,c)" [(ngModel)]="cellValues[p.id][c]" (blur)="commit(p.id,c)" (keyup.enter)="commit(p.id,c)" />
                    <button class="btn btn-sm btn-ghost min-h-10 min-w-10" [disabled]="isLocked(p.id,c)" (click)="strike(p.id,c)" title="Streichen (0)">âœ–ï¸</button>
                    <button *ngIf="isFixedCategory(c)" class="btn btn-sm btn-outline min-h-10 min-w-10" [disabled]="isLocked(p.id,c)"
                            (click)="quickSet(p.id,c)" [title]="quickSetTitle(c)" [attr.aria-label]="quickSetTitle(c)">{{ fixedValue(c) }}</button>
                  </div>
                </td>
              </tr>
              <tr class="border-b border-base-300 bg-base-100">
                <td class="font-semibold bg-base-100">Kniffelâ€‘Bonus</td>
                <td *ngFor="let p of g.players" class="align-middle bg-base-100 transition-all duration-200"
                    [class.!bg-emerald-50]="isNextPlayer(p.id) && g.status === 'active'">
                  <div class="flex items-center gap-1">
                    <button class="btn btn-sm min-h-10 min-w-12" [class.btn-ghost]="!canAdjustBonus(p.id)" [class.btn-outline]="canAdjustBonus(p.id)"
                            [disabled]="!canAdjustBonus(p.id) || bonusValue(p.id) <= 0" (click)="adjustBonus(p.id,-50)">âˆ’ 50</button>
                    <input class="input input-sm input-bordered w-16 flex-1 max-w-20 blue-outlined" [value]="bonusValue(p.id)" readonly disabled />
                    <button class="btn btn-sm min-h-10 min-w-12" [class.btn-ghost]="!canAdjustBonus(p.id)" [class.btn-outline]="canAdjustBonus(p.id)"
                            [disabled]="!canAdjustBonus(p.id)" (click)="adjustBonus(p.id,50)">+ 50</button>
                  </div>
                  <div class="text-xs opacity-60 hidden sm:block" *ngIf="!canAdjustBonus(p.id)">BenÃ¶tigt gÃ¼ltigen Kniffel (50)</div>
                </td>
              </tr>
              <!-- Unterer Teil Summe -->
              <tr class="bg-base-300 border-y-2 border-base-400 sticky bottom-12 z-10 hidden md:table-row">
                <td class="font-semibold bg-base-300">Unterer Teil Summe</td>
                <td class="text-xl font-extrabold tracking-wide bg-base-300 transition-all duration-200" *ngFor="let p of g.players"
                    [class.!bg-emerald-200]="isNextPlayer(p.id) && g.status === 'active'">{{ g.computed[p.id]?.lower ?? 0 }}</td>
              </tr>
              <!-- Gesamt -->
              <tr class="bg-base-300 font-extrabold border-t-2 border-base-300 sticky bottom-0 z-10 hidden md:table-row">
                <td class="bg-base-300">Gesamt</td>
                <td class="text-2xl bg-base-300 transition-all duration-200" *ngFor="let p of g.players"
                    [class.!bg-emerald-200]="isNextPlayer(p.id) && g.status === 'active'">{{ g.computed[p.id]?.total ?? 0 }}</td>
              </tr>
            </ng-container>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
<app-ranking-modal [open]="isRanking()" [ranking]="ranking()" [onClose]="closeRanking"></app-ranking-modal>

<!-- Player Info Modal -->
<div class="modal" [class.modal-open]="isPlayerInfoOpen()">
  <div class="modal-box">
    <h3 class="font-bold text-lg mb-4">
      Verbleibende Kategorien fÃ¼r {{ getPlayerName(selectedPlayerId()) }}
    </h3>
    
    <div class="space-y-4">
      <!-- Upper Section -->
      <div>
        <h4 class="font-semibold text-base mb-2 text-primary">Oberer Teil</h4>
        <div class="space-y-1">
          <div *ngFor="let category of getOpenCategories(selectedPlayerId(), 'upper')" 
               class="flex items-center justify-between p-2 bg-base-100 rounded">
            <span class="font-medium">{{ label(category) }}</span>
            <span class="text-sm opacity-70">Noch offen</span>
          </div>
          <div *ngIf="getOpenCategories(selectedPlayerId(), 'upper').length === 0" 
               class="text-sm opacity-70 italic p-2">
            Alle Kategorien ausgefÃ¼llt
          </div>
        </div>
      </div>
      
      <!-- Lower Section -->
      <div>
        <h4 class="font-semibold text-base mb-2 text-secondary">Unterer Teil</h4>
        <div class="space-y-1">
          <div *ngFor="let category of getOpenCategories(selectedPlayerId(), 'lower')" 
               class="flex items-center justify-between p-2 bg-base-100 rounded">
            <span class="font-medium">{{ label(category) }}</span>
            <span class="text-sm opacity-70">Noch offen</span>
          </div>
          <div *ngIf="getOpenCategories(selectedPlayerId(), 'lower').length === 0" 
               class="text-sm opacity-70 italic p-2">
            Alle Kategorien ausgefÃ¼llt
          </div>
        </div>
      </div>
    </div>
    
    <div class="modal-action">
      <button class="btn btn-primary" (click)="closePlayerInfo()">SchlieÃŸen</button>
    </div>
  </div>
  <div class="modal-backdrop" (click)="closePlayerInfo()"></div>
</div>

<!-- Help Modal -->
<div class="modal" [class.modal-open]="isHelpOpen()">
  <div class="modal-box max-w-3xl">
    <div class="flex items-center justify-between mb-6">
      <h3 class="font-bold text-2xl flex items-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        Hilfe & Spielanleitung
      </h3>
      <button class="btn btn-ghost btn-sm btn-circle" (click)="closeHelp()">âœ•</button>
    </div>

    <div class="space-y-6">
      <!-- Game Overview -->
      <div class="card bg-base-200">
        <div class="card-body p-4">
          <h4 class="card-title text-lg flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-info" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
            </svg>
            SpielÃ¼bersicht
          </h4>
          <p class="text-sm opacity-90">
            KnuffelBoard ist ein digitaler Spielzettel fÃ¼r das beliebte WÃ¼rfelspiel Kniffel (Yahtzee).
            Tragen Sie Ihre WÃ¼rfelergebnisse ein, und die Punkte werden automatisch berechnet.
          </p>
        </div>
      </div>

      <!-- Scoring Guide -->
      <div class="card bg-base-200">
        <div class="card-body p-4">
          <h4 class="card-title text-lg flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-success" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
            </svg>
            Wertungen eintragen
          </h4>
          <div class="space-y-2 text-sm">
            <div class="flex items-start gap-2">
              <span class="font-bold text-primary">1.</span>
              <div>
                <strong>Klicken Sie auf ein Eingabefeld</strong> der aktiven Spieler-Spalte und geben Sie Ihre Punktzahl ein.
              </div>
            </div>
            <div class="flex items-start gap-2">
              <span class="font-bold text-primary">2.</span>
              <div>
                <strong>BestÃ¤tigen Sie mit Enter</strong> oder durch Klick auÃŸerhalb des Feldes â€“ das Feld wird dann gesperrt.
              </div>
            </div>
            <div class="flex items-start gap-2">
              <span class="font-bold text-primary">3.</span>
              <div>
                <strong>Nutzen Sie "âœ–ï¸"</strong> um eine Kategorie zu streichen (Wert wird auf 0 gesetzt und gesperrt).
              </div>
            </div>
            <div class="flex items-start gap-2">
              <span class="font-bold text-primary">4.</span>
              <div>
                <strong>Quick-Set Buttons</strong> (25, 30, 40, 50) setzen die Werte fÃ¼r Full House, StraÃŸen und Kniffel direkt.
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Locking & Unlocking -->
      <div class="card bg-base-200">
        <div class="card-body p-4">
          <h4 class="card-title text-lg flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-warning" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
            </svg>
            Felder entsperren
          </h4>
          <p class="text-sm opacity-90">
            Eingetragene Felder werden automatisch gesperrt. Um Ã„nderungen vorzunehmen,
            klicken Sie oben rechts auf <strong>"Entsperren" ğŸ”“</strong>. Danach kÃ¶nnen Sie alle Felder bearbeiten.
            Vergessen Sie nicht, anschlieÃŸend wieder zu <strong>"Sperren" ğŸ”’</strong>.
          </p>
        </div>
      </div>

      <!-- Bonus System -->
      <div class="card bg-base-200">
        <div class="card-body p-4">
          <h4 class="card-title text-lg flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            Bonus-System
          </h4>
          <div class="space-y-2 text-sm opacity-90">
            <p>
              <strong>Oberer Teil Bonus:</strong> Erreichen Sie mindestens 63 Punkte im oberen Teil,
              erhalten Sie automatisch 35 Bonuspunkte.
            </p>
            <p>
              <strong>Kniffel-Bonus:</strong> Haben Sie bereits einen gÃ¼ltigen Kniffel (50 Punkte) eingetragen,
              kÃ¶nnen Sie fÃ¼r jeden weiteren Kniffel +50 Bonuspunkte hinzufÃ¼gen.
            </p>
          </div>
        </div>
      </div>

      <!-- Finishing the Game -->
      <div class="card bg-primary text-primary-content">
        <div class="card-body p-4">
          <h4 class="card-title text-lg flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            Spiel beenden
          </h4>
          <p class="text-sm opacity-90">
            Sobald alle Kategorien fÃ¼r alle Spieler ausgefÃ¼llt sind, erscheint oben mittig der Button
            <strong>"Spiel beenden & werten"</strong>. Nach dem Klick wird das Endergebnis angezeigt
            und der Gewinner ermittelt.
          </p>
        </div>
      </div>

      <!-- Tips -->
      <div class="alert alert-info">
        <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <div class="text-sm">
          <strong>Tipp:</strong> Die aktive Spielerspalte ist grÃ¼n markiert.
          Die Sidebar zeigt den Fortschritt und die aktuellen Summen aller Spieler an.
        </div>
      </div>
    </div>

    <div class="modal-action">
      <button class="btn btn-primary" (click)="closeHelp()">Verstanden</button>
    </div>
  </div>
  <div class="modal-backdrop" (click)="closeHelp()"></div>
</div>
